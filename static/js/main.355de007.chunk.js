(this.webpackJsonpdictionaries=this.webpackJsonpdictionaries||[]).push([[0],{26:function(n,e,t){n.exports=t(40)},31:function(n,e,t){},40:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),i=t(18),o=t.n(i),c=(t(31),t(7)),u=t(5),l=t(10),d=t(6),s=t(19),f=t(12),m=t.n(f);function p(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function b(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?p(t,!0).forEach((function(e){Object(s.a)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):p(t).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var g="dictionaries",w={EMPTY:"empty",OK:"ok",DUPLICATE:"duplicate",FORK:"fork",CYCLE:"cycle",CHAIN:"chain",NEW:"new"};function E(n,e){return n.toLowerCase()===e.toLowerCase()}function v(n){return n.map((function(n){return b({},n,{consistent:n.rows.every((function(n){return n.rowStatus===w.OK}))&&n.rows.length})}))}function O(n){return n.map((function(n){return b({},n,{rows:n.rows.map((function(n,e,t){return b({},n,{rowStatus:j(n,t)})}))})}))}function j(n,e){return 1===e.length?w.OK:e.find((function(e){return e.rowId!==n.rowId&&E(e.domain,n.domain)&&E(e.range,n.range)}))?w.DUPLICATE:e.find((function(e){return e.rowId!==n.rowId&&E(e.domain,n.domain)}))?w.FORK:function n(e,t){var r=t.find((function(n){return E(e.range,n.domain)}));return!!r&&(!!E(r.range,e.domain)||n(r,t))}(n,e)?w.CYCLE:e.find((function(e){return E(n.range,e.domain)}))?w.CHAIN:w.OK}var h=a.a.createContext();function y(n){var e=n.children,t=Object(r.useState)([]),i=Object(d.a)(t,2),o=i[0],c=i[1],u=Object(r.useState)(null),s=Object(d.a)(u,2),f=s[0],p=s[1];return Object(r.useEffect)((function(){var n=localStorage.getItem(g);try{if(n){var e=JSON.parse(n)||[];if(!e.length)return;c(e)}}catch(t){console.warn("There was an error reading/parsing the data from local storage")}}),[]),Object(r.useEffect)((function(){localStorage.setItem(g,JSON.stringify(o))}),[o]),a.a.createElement(h.Provider,{value:{dictionary:f,dictionaries:o,dictionariesNew:function(n){var e={id:m()(),name:n,consistent:!1,rows:[]};c([].concat(Object(l.a)(o),[e]))},dictionariesDelete:function(n){c(o.filter((function(e){return e.id!==n})))},dictionarySet:function(n){var e=o.find((function(e){return e.id===n}));e&&p(e)},dictionaryUnset:function(){p(null)},dictionaryRowsNew:function(n,e){if(!f)throw new Error("A dictionary has not been selected");var t=b({},e,{rowId:m()(),rowStatus:w.NEW}),r=b({},f,{rows:[].concat(Object(l.a)(f.rows),[t])}),a=v(O(o.map((function(e){return e.id===n?r:e}))));c(a),p(r)},dictionaryRowsDelete:function(n,e){if(!f)throw new Error("A dictionary has not been selected");var t=b({},f,{rows:Object(l.a)(f.rows.filter((function(n){return n.rowId!==e})))}),r=v(O(o.map((function(e){return e.id===n?t:e}))));c(r),p(t)},dictionaryRowsEdit:function(n,e,t){if(!f)throw new Error("A dictionary has not been selected");var r=b({},f,{rows:Object(l.a)(f.rows.map((function(n){return n.rowId!==e?n:b({},n,{},t)})))}),a=v(O(o.map((function(e){return e.id===n?r:e}))));c(a),p(r)}}},e)}function x(){return Object(r.useContext)(h)}var C=t(1),k=t(2);function D(){var n=Object(C.a)(["\n  padding: 16px 0;\n\n  @media (min-width: 640px) {\n    padding: 32px;\n  }\n"]);return D=function(){return n},n}function N(){var n=Object(C.a)(["\n  margin: 0;\n  color: white;\n"]);return N=function(){return n},n}function S(){var n=Object(C.a)(["\n  position: sticky;\n  top: 0;\n  background: #877392;\n  box-shadow: 0 -2px 5px 0px #877392;\n  padding: 12px;\n"]);return S=function(){return n},n}var R=k.a.header(S()),I=k.a.h1(N()),P=k.a.main(D()),A=function(n){var e=n.children;return a.a.createElement(a.a.Fragment,null,a.a.createElement(R,null,a.a.createElement(I,null,"Dictionary CRUD")),a.a.createElement(P,null,e))};function T(){var n=Object(C.a)(["\n  padding-left: 8px;\n  font-weight: bold;\n  word-break: break-all;\n\n  @media (min-width: 640px) {\n    padding-left: 0;\n  }\n"]);return T=function(){return n},n}function K(){var n=Object(C.a)(["\n  display: grid;\n  grid-gap: 16px;\n"]);return K=function(){return n},n}function L(){var n=Object(C.a)(["\n  font-size: 12px;\n  height: 40px;\n  color: white;\n  border: 1px solid rgba(167, 40, 40, 0.4);\n  color: rgba(167, 40, 40, 0.6);\n  background: white;\n  user-select: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return L=function(){return n},n}function z(){var n=Object(C.a)(["\n  border-radius: 4px;\n  padding: 8px\n  border: 1px solid #45b748;\n  color: #45b748;\n  background: white;\n  cursor: pointer;\n  font-size: 14px;\n"]);return z=function(){return n},n}function F(){var n=Object(C.a)(["\n  padding: 0;\n  margin: 0;\n  list-style: none;\n  & li:nth-child(2n + 1) {\n    background: #fafafa;\n  }\n\n  @media (min-width: 640px) {\n    border: 1px solid #eee;\n  }\n"]);return F=function(){return n},n}function U(){var n=Object(C.a)(["\n  padding: 8px;\n  font-size: 14px;\n  min-width: 50px;\n"]);return U=function(){return n},n}var J=k.a.input(U()),W=k.a.ul(F()),Y=k.a.button(z()),q=Object(k.a)(Y)(L()),H=k.a.section(K()),B=k.a.div(T());function M(){var n=Object(C.a)(["\n  display: grid;\n  grid-template-columns: 1fr max-content;\n  grid-gap: 16px;\n  padding: 8px;\n\n  @media (min-width: 640px) {\n    padding: 0;\n  }\n"]);return M=function(){return n},n}function $(){var n=Object(C.a)(["\n  height: 40px;\n  user-select: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 16px;\n"]);return $=function(){return n},n}function G(){var n=Object(C.a)(["\n  padding: 24px 0;\n  padding-left: 8px;\n  word-break: break-all;\n\n  @media (min-width: 640px) {\n    padding-left: 0;\n  }\n"]);return G=function(){return n},n}function Q(){var n=Object(C.a)(["\n  display: grid;\n  grid-template-columns: ",";\n  grid-gap: 8px;\n  align-items: center;\n  padding: 0 8px;\n"]);return Q=function(){return n},n}function V(n){var e=n.id,t=n.name,i=n.rows,o=n.consistent,u=n.onDelete,l=Object(r.useCallback)((function(){return u(e)}),[e,u]),d=i.length?i.map((function(n){return n.rowStatus})).join(", "):"Empty";return a.a.createElement(X,{consistent:o},a.a.createElement(Z,{as:c.b,to:"/".concat(e)},t),!o&&a.a.createElement(_,null,a.a.createElement("span",{role:"img","aria-label":"warning",title:d},"\u26a0\ufe0f")),a.a.createElement(q,{onClick:l},"Delete"))}var X=k.a.li(Q(),(function(n){return n.consistent?"1fr auto":"1fr auto auto"})),Z=k.a.div(G()),_=k.a.span($());function nn(n){var e=n.onNew,t=Object(r.useState)(""),i=Object(d.a)(t,2),o=i[0],c=i[1],u=Object(r.useCallback)((function(n){var e=n.currentTarget.value;c(e)}),[c]),l=Object(r.useCallback)((function(n){n.preventDefault(),o.trim()&&(e(o),c(""))}),[o,e]);return a.a.createElement(en,{onSubmit:l},a.a.createElement(J,{placeholder:"New dictionary name",required:!0,value:o,onChange:u}),a.a.createElement(Y,null,"Add"))}var en=k.a.form(M()),tn=function(){var n=function(){var n=x();return{dictionaries:n.dictionaries,onNew:n.dictionariesNew,onDelete:n.dictionariesDelete,onEdit:function(){return null}}}(),e=n.dictionaries,t=n.onNew,r=n.onDelete,i=n.onEdit;return a.a.createElement(H,null,a.a.createElement(B,null,"Dictionaries"),a.a.createElement(nn,{onNew:t}),!!e.length&&a.a.createElement(W,null,e.map((function(n){return a.a.createElement(V,Object.assign({key:n.id},n,{onDelete:r,onEdit:i}))}))))};function rn(){var n=Object(C.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr max-content;\n  grid-gap: 16px;\n  padding: 4px;\n\n  @media (min-width: 640px) {\n    padding: 0;\n  }\n"]);return rn=function(){return n},n}function an(){var n=Object(C.a)(["\n  height: 40px;\n  user-select: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 16px;\n"]);return an=function(){return n},n}function on(){var n=Object(C.a)(["\n  font-size: 12px;\n  color: #777;\n  margin-bottom: 4px;\n"]);return on=function(){return n},n}function cn(){var n=Object(C.a)(["\n  border: none;\n  border-bottom: 1px solid #ccc;\n  padding: 4px;\n  min-width: 50px;\n"]);return cn=function(){return n},n}function un(){var n=Object(C.a)(["\n  display: grid;\n  grid-template-rows: auto 1fr;\n"]);return un=function(){return n},n}function ln(){var n=Object(C.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr auto auto;\n  grid-gap: 8px;\n  align-items: center;\n  padding: 8px;\n"]);return ln=function(){return n},n}function dn(n){var e=n.onEdit,t=n.onDelete,i=n.domain,o=n.range,c=n.rowId,u=n.rowStatus,l=Object(r.useCallback)((function(n){var t=n.currentTarget.value;e(c,{domain:t,range:o})}),[o,e,c]),d=Object(r.useCallback)((function(n){var t=n.currentTarget.value;e(c,{domain:i,range:t})}),[i,e,c]),s=Object(r.useCallback)((function(){t(c)}),[t,c]);return a.a.createElement(sn,null,a.a.createElement(fn,null,a.a.createElement(pn,null,"Domain"),a.a.createElement(mn,{value:i,onChange:l})),a.a.createElement(fn,null,a.a.createElement(pn,null,"Range"),a.a.createElement(mn,{value:o,onChange:d})),a.a.createElement(bn,null,u===w.OK?a.a.createElement("span",{role:"img","aria-label":"Ok",title:"Ok"},"\ud83d\udc4c"):u===w.DUPLICATE?a.a.createElement("span",{role:"img","aria-label":"Duplicate",title:"Duplicate"},"\u270c\ufe0f"):u===w.FORK?a.a.createElement("span",{role:"img","aria-label":"Fork",title:"Fork"},"\ud83c\udf74"):u===w.CYCLE?a.a.createElement("span",{role:"img","aria-label":"Cycle",title:"Cycle"},"\u27bf"):u===w.CHAIN?a.a.createElement("span",{role:"img","aria-label":"Chain",title:"Chain"},"\ud83d\udd17"):a.a.createElement("span",null,"a")),a.a.createElement("div",null,a.a.createElement(q,{onClick:s},"Delete")))}var sn=k.a.li(ln()),fn=k.a.div(un()),mn=Object(k.a)(J)(cn()),pn=k.a.div(on()),bn=k.a.div(an());function gn(n){var e=n.onNew,t=Object(r.useState)(""),i=Object(d.a)(t,2),o=i[0],c=i[1],u=Object(r.useState)(""),l=Object(d.a)(u,2),s=l[0],f=l[1],m=Object(r.useCallback)((function(n){var e=n.currentTarget.value;c(e)}),[]),p=Object(r.useCallback)((function(n){var e=n.currentTarget.value;f(e)}),[]),b=Object(r.useCallback)((function(n){n.preventDefault(),(o.trim()||s.trim())&&(e({domain:o,range:s}),c(""),f(""))}),[o,s,e]);return a.a.createElement(wn,{onSubmit:b},a.a.createElement(J,{placeholder:"Domain",required:!0,value:o,onChange:m}),a.a.createElement(J,{placeholder:"Range",required:!0,value:s,onChange:p}),a.a.createElement(Y,{type:"submit"},"Add"))}var wn=k.a.form(rn()),En=function(){var n=function(){var n=Object(u.f)().id,e=x(),t=e.dictionaries,a=e.dictionary,i=e.dictionarySet,o=e.dictionaryUnset,c=e.dictionaryRowsNew,l=e.dictionaryRowsDelete,d=e.dictionaryRowsEdit,s=Object(r.useCallback)((function(e){return c(n,e)}),[c,n]),f=Object(r.useCallback)((function(e){return l(n,e)}),[l,n]),m=Object(r.useCallback)((function(e,t){return d(n,e,t)}),[d,n]);return Object(r.useEffect)((function(){i(n)}),[n,i,t]),Object(r.useEffect)((function(){return function(){return o()}}),[o]),{dictionary:a,onNewRow:s,onDeleteRow:f,onEditRow:m}}(),e=n.dictionary,t=n.onNewRow,i=n.onDeleteRow,o=n.onEditRow;if(!e)return a.a.createElement(H,null,a.a.createElement(B,null,a.a.createElement(c.b,{to:"/"},"Dictionaries")),a.a.createElement("p",null,"Dictionary does not exist"));var l=e.name,d=e.rows;return a.a.createElement(H,null,a.a.createElement(B,null,a.a.createElement(c.b,{to:"/"},"Dictionaries")," / ",a.a.createElement("span",null,l)),a.a.createElement(gn,{onNew:t}),!!d.length&&a.a.createElement(W,null,d.map((function(n,e){return a.a.createElement(dn,Object.assign({key:e},n,{onEdit:o,onDelete:i}))}))))};var vn=function(){return a.a.createElement(y,null,a.a.createElement(A,null,a.a.createElement(c.a,null,a.a.createElement(u.c,null,a.a.createElement(u.a,{exact:!0,path:"/:id",component:En}),a.a.createElement(u.a,{path:"/",component:tn})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(vn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()}))}},[[26,1,2]]]);
//# sourceMappingURL=main.355de007.chunk.js.map